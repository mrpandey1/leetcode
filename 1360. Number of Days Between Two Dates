class Solution:
    def daysBetweenDates(self, date1: str, date2: str) -> int:
        def leapyear(year):
            if not year%400: return 1
            if not year%100: return 0
            if not year%4: return 1
            return 0
        
        def days_to(date):
            nonlocal months
            y,m,d = [int(i) for i in date.split('-')]            
            yd = 0
            for year in range(1971, y): 
                yd += 365 + leapyear(year)
            md = sum(months[:m-1]) 
            if m > 2: md += leapyear(y)
            return yd + md + d

        months = [31, 28, 31, 30,
                  31, 30, 31, 31,
                  30, 31, 30, 31]
        
        return abs(days_to(date2) - days_to(date1))
